計算機網路概論 :\

感覺好想睡zzZZZ

port number 跟 application 的對應 => Transport layer

what's internet?
what's protocol?

overview:
    hosts, access net, physical media
    packet/circuit switching internet structure
    loss delay, throughput
    security
    protocol layers service models
    history

mail server 表示悲劇...

virtual circuit

霸氣四射w

ethernet collision

botnet
security

in cellphone system: base station (SB)
wifi- AP (access point)


電話交換機裡面有在跑程式啊QQ
client server 講反惹....Orz

asscess to the net

DSL (digital subscribe line)
DSL modem/telephone => splitter
    ADSL, A for Asymmetric (different upload and download rate)
    撥接 max 56Kbps
    DSLAM: http://en.wikipedia.org/wiki/Digital_subscriber_line_access_multiplexer

    use existing telephone line to central office DSLAM
        data => internet
        voice => telephone net

    FDM: Frequency division multiplexing
        download often use higher frequency => higher speed rate

FTTH: fiber to the home 光纖到你家w

coax 同軸電纜
HFC: hybird fiber coax
    network of cabel, fiber attaches home to ISP router
    光纖拉到社區箱子，然後箱子到家裡用 coax


CMTS: http://en.wikipedia.org/wiki/Cable_modem_termination_system
is used to provide high speed data servies such as cable Internet or VoIP to cable subbscribers

NAT
    source 會換成 private 的，出去的時候 NAT 會把 source 換成自己的對外 public IP
    NAT 會紀錄出去的封包的 source IP (private) ，server 回封包時會把進來封包的 destination 換成 pirvate 的 IP

switch 是用 MAC address (layer 2 in ISO model)
router 是用 IP  address (layer 3 in ISO model)

wiredless access networks
    shared wireless access network connects end system to router

其實現在已經有 802.11n 和  a 了XD
wLANs / wide-area wiredless access

cellular 蜂巢式網路 (telco)


3/4
========
packet transmission
    transmission rate (capacity)
    delay = L/R (length / rate)
    propagation delay
    guided media (一般指有線/固體的)
        copper, fiber, coax
	ungided media
        radio
    physical
    twised pair (雙絞線)
        two insulated copper wires

    coaxial cable
        two concentric copper conductors (一個內圈一個外圈)
        bidirectional
        multiple channels
        HFC
    fiber optic cable
        glass fiber carring light pules
        high speed
        low error rate
    repeater
        當信號衰減時，再生信號
    radio
        via electromagnetic spectrum
        terrestrial microware (=> 45Mbps)
        Wifi (=> 54 Mbps)
        wide-area (cellular)
        satellite 衛星
             270 minisecond end-end delay
             geosynchronous (同步衛星)

    packet-switching
        hosts break application-layer messages into packets
    forward packets from one router to next, across links on path from src to dst
    each packet transmitted at full link capacity

    store and forward
        buffer 中接收到完整的 packet 後才 forward
        entire packet must arrive at router befor it can be transmitted on next link
    take L/R seconds to transmit L-bit packet into link at R bps
    end-end delay = sum (L_i/R_i)　+ ...
    
    queuing and loss
        後進來的 packet 會 queue 起來，等前面的 packet 先送出去
        queue 滿了就 drop ^q^

    routing
        determines src-dst route taken by packets
        forwarding
            from input port to output port
        source routing

    circuit switching
        先 allocate 好 end-end 完整 routing 的資源
        reserved for 'call'
        circuit segment idle if not used by call (no sharing)
    http://en.wikipedia.org/wiki/Packet_switching
    Newer mobile phone technologies (e.g., GPRS, I-mode) also use packet switching. 


3/7
======
routing determines source destination route taken by packets
routing algorithms
hard beats : 確保你還活著

circuit switching: no sharing

packet switching 
    resource sharing
    simpler, don't need call setup

congestion possible, congestion control
provide circuit like behavior?

Tier-1 ISP
    pop

transmission delay
queuing delay
    waiting at output link for transmission
    depends on congestion for level of router

nodal processing
    check bit errors
    determine output link
    typically < microsec for high speed routers



3/14
======

protocols

application   message
transport     segment
    TCP/UDP
network       datagram
    IP / routig protocols
link          frame
    ethernet, wifi ..., PPP


Cerf and Kahn
best effort
decentralized control

Ethernet Xerox PARC

applications

HTTP
FTP
DNS
P2P

socket programming      # suck it!
套接字


hackable 的 router 很好玩的，這一定有什麼誤會

network apps
run on end systems
network core devices (routers & switches) do not run user applications

client - server
p2p


3/18
======
wireshark demo
沒有講好 filter QQ

安安這次 C/S 架構又講對惹耶XD

P2P
    self scalability
    peers are intermittently connected and change IP address


3/21
=========
client server / p2p

process communicating
    IPC
    message queue

aside: applications with p2p architectures hve cient porcess & server processes

socket
    sent / recv


application layer
syntex, message semantics, rules

data integrity (資料完整性)
    reliable?
    can tolerate(容許) some lose 

timing
    require low delay to be effective

throughput

security

TCP / UDP

reliable transport, flow control, congesion control, connection-oriented
unreliable data transfer.

簡單的說，UDP -> 射後不理


HTTP stateless
persistent / non-persistent 



3/25
=============
HTTP data
    http code
    200, 201, 300, 400, 404

stateless: 我不需要記住個別 client 狀態 (效率高)

cookie
    to keep state
    authorization
    user session state

web caches - proxy
    object in cache: return objects
    cache miss: request it for you
    reduce requests to origin server

conditional GET
    don't sent object if cache has up-to-date
    cache: specify date of cashed copy in HTTP request
    If-modified-since <date>
    304 Not Modified


3/28
=============
兩種解法
    加大對外頻寬
    架 proxy server (cheap)

FTP
    file transfer protocol
    control connection # persistent port 21
    data connection # non-persistent port 20

    out of band (control connection 和 data connection 分開)
    statefull

E-mail
    MUA
    SMTP simple mail transfer protocol
    mail server
        mailbox, message queue
    SMTP, TCP port 25
    direct transfer

    handshaking (greeting)
    transfer of messages
    closure

    commands (ASCII text)
    response

    messages 7-bit ASCII (base64, quoted printable)

    pull / push
    HTTP: pull
        each object encapsulated in its own response message
    SMTP: push
        multiple objects sent in multipart message

    persistent connection
    CRLF.CRLF
    
mail format
header
<blank line>
body

imap4
    copy
    keep in the server
    keep user state across sessions
pop3
    download (and delete?)
    download and keep
    stateless across sessions

DNS
    distributed
    application layer protocol

    aliasing
    single point failure
    traffic volume
    distant centralized database
    maintenance

4/1
===========


    TLD (top-level)
    authoritative DNS

    A, NS, CNAME, MX

    query message / reply messages

    identification

    flags

DDoS attacks
spoof
cache poisoning
MITM


4/11
=============
DHT

circular DHT
    O(N)

mesh
    O(lgN)

circular DHT with shortcuts
    possible to design shortcuts so O(lgN) neighbors, O(lgN) message in query


distributed hash table
distribe the (key, value) pair over the peers

queries / insert

overlay network

peer churn

socket programming

most importantly: learnd about protocols!

